import streamlit as st

st.set_page_config(page_title="MBTI 문화 추천기", page_icon="📚", layout="centered")

MBTI_OPTIONS = [
    "ISTJ", "ISFJ", "INFJ", "INTJ",
    "ISTP", "ISFP", "INFP", "INTP",
    "ESTP", "ESFP", "ENFP", "ENTP",
    "ESTJ", "ESFJ", "ENFJ", "ENTJ",
]

# 각 MBTI에 맞는 책 2권 + 영화 2편 + 추천 이유
RECOMMENDATIONS = {
    "ISTJ": {
        "books": [
            ("미움받을 용기", "논리적 사고와 자기 책임을 중시하는 ISTJ에게 자기 성장의 힌트를 줘요."),
            ("공정하다는 착각", "현실과 원칙 사이의 균형을 고민하는 데 도움이 돼요."),
        ],
        "movies": [
            ("인터스텔라", "규칙과 원칙을 지키면서도 큰 목표를 향해 나아가는 이야기예요."),
            ("머니볼", "데이터와 분석으로 문제를 해결하는 스타일이 ISTJ와 잘 어울려요."),
        ]
    },
    "ISFJ": {
        "books": [
            ("어린 왕자", "따뜻한 마음과 타인을 생각하는 ISFJ의 감성을 자극해요."),
            ("좋은 사람에게만 좋은 사람이면 돼", "다정하지만 지치는 ISFJ에게 필요한 위로를 줘요."),
        ],
        "movies": [
            ("인사이드 아웃", "감정을 이해하고 공감하는 ISFJ의 특성을 잘 보여줘요."),
            ("원더", "작은 배려가 세상을 바꾼다는 메시지가 마음을 울려요."),
        ]
    },
    "INFJ": {
        "books": [
            ("데미안", "자신의 내면을 탐구하는 INFJ에게 어울리는 철학적인 소설이에요."),
            ("나는 나로 살기로 했다", "자기 확신과 진정성을 고민하는 INFJ에게 힘이 돼요."),
        ],
        "movies": [
            ("월터의 상상은 현실이 된다", "내면의 열정을 행동으로 옮기는 INFJ에게 영감을 줘요."),
            ("인셉션", "복잡한 사고와 깊은 의미를 좋아하는 INFJ에게 잘 맞아요."),
        ]
    },
    "INTJ": {
        "books": [
            ("총, 균, 쇠", "논리적이고 구조적인 사고를 좋아하는 INTJ에게 딱이에요."),
            ("이기적 유전자", "세상의 원리를 분석하고자 하는 INTJ에게 흥미로워요."),
        ],
        "movies": [
            ("셜록 홈즈", "전략적 사고와 추리력, INTJ스러움 그 자체예요."),
            ("소셜 네트워크", "목표 지향적이고 혁신적인 면이 INTJ와 닮았어요."),
        ]
    },
    "ISTP": {
        "books": [
            ("나는 내일을 기다리지 않는다", "즉흥적이고 실용적인 ISTP에게 맞는 삶의 태도예요."),
            ("도쿄 바이크", "혼자만의 시간과 자유를 중시하는 ISTP 감성을 담았어요."),
        ],
        "movies": [
            ("매드맥스: 분노의 도로", "액션과 생존 감각이 뛰어난 ISTP에게 찰떡이에요."),
            ("본 아이덴티티", "냉철하고 전략적인 ISTP의 특징을 잘 보여줘요."),
        ]
    },
    "ISFP": {
        "books": [
            ("걷는 사람, 하정우", "자연스럽고 감성적인 ISFP에게 위로가 되는 책이에요."),
            ("모든 순간이 너였다", "감정에 솔직한 ISFP의 마음을 다정하게 어루만져줘요."),
        ],
        "movies": [
            ("라라랜드", "꿈과 현실 사이에서 감정적으로 공감할 수 있어요."),
            ("비긴 어게인", "자유롭고 감성적인 분위기가 ISFP에게 잘 어울려요."),
        ]
    },
    "INFP": {
        "books": [
            ("연금술사", "이상과 꿈을 추구하는 INFP에게 완벽히 어울려요."),
            ("나미야 잡화점의 기적", "사람의 마음을 이해하고 공감하는 INFP에게 따뜻한 이야기예요."),
        ],
        "movies": [
            ("어바웃 타임", "소중한 관계와 감정을 진심으로 바라보는 INFP에게 딱이에요."),
            ("월-E", "순수함과 이상을 추구하는 INFP의 감성이 느껴져요."),
        ]
    },
    "INTP": {
        "books": [
            ("사피엔스", "세상을 분석하고 원리를 이해하는 걸 좋아하는 INTP에게 어울려요."),
            ("호모 데우스", "논리적 사고와 미래에 대한 통찰을 자극해요."),
        ],
        "movies": [
            ("인터스텔라", "복잡한 구조와 철학적 주제가 INTP의 흥미를 끌어요."),
            ("엑스 마키나", "인공지능과 인간의 경계에 대한 사고가 돋보여요."),
        ]
    },
    "ESTP": {
        "books": [
            ("부의 인문학", "현실적이고 행동력 있는 ESTP에게 동기부여를 줘요."),
            ("트렌드 코리아", "빠르게 변화하는 세상을 읽는 걸 즐기는 ESTP에게 좋아요."),
        ],
        "movies": [
            ("분노의 질주", "속도감과 액션, ESTP의 스릴러 감각에 딱이에요."),
            ("킹스맨", "세련되고 즉흥적인 ESTP의 스타일과 잘 맞아요."),
        ]
    },
    "ESFP": {
        "books": [
            ("나는 내일, 어제의 너와 만난다", "감성적이고 낭만적인 ESFP에게 어울려요."),
            ("작은 행복이 주는 위로", "일상 속 소소한 기쁨을 찾는 ESFP에게 좋아요."),
        ],
        "movies": [
            ("맘마미아!", "음악과 사람을 좋아하는 ESFP에게 딱이에요."),
            ("인턴", "밝고 사교적인 ESFP의 긍정 에너지가 느껴져요."),
        ]
    },
    "ENFP": {
        "books": [
            ("죽고 싶지만 떡볶이는 먹고 싶어", "감정에 솔직한 ENFP에게 위로가 되는 책이에요."),
            ("나는 나를 믿는다", "도전과 모험을 즐기는 ENFP에게 용기를 줘요."),
        ],
        "movies": [
            ("인사이드 아웃", "감정과 상상력이 풍부한 ENFP에게 꼭 맞아요."),
            ("위대한 쇼맨", "에너지 넘치고 창의적인 ENFP의 매력이 그대로 담겨있어요."),
        ]
    },
    "ENTP": {
        "books": [
            ("생각의 탄생", "아이디어를 자유롭게 떠올리는 ENTP의 두뇌를 자극해요."),
            ("제4의 물결", "미래를 읽는 통찰력과 토론을 즐기는 ENTP에게 어울려요."),
        ],
        "movies": [
            ("아이언맨", "창의적이고 도전적인 ENTP의 대표 캐릭터예요."),
            ("인셉션", "논리와 상상력을 모두 자극하는 영화예요."),
        ]
    },
    "ESTJ": {
        "books": [
            ("원씽(The ONE Thing)", "효율과 성취를 중시하는 ESTJ에게 딱이에요."),
            ("일 잘하는 사람은 단순하게 합니다", "체계적이고 실용적인 ESTJ 스타일과 잘 맞아요."),
        ],
        "movies": [
            ("머니볼", "데이터 기반의 리더십과 조직 관리가 돋보여요."),
            ("포드 V 페라리", "도전과 팀워크를 동시에 보여주는 이야기예요."),
        ]
    },
    "ESFJ": {
        "books": [
            ("당신이 옳다", "사람 사이의 관계를 중요하게 여기는 ESFJ에게 맞아요."),
            ("마음의 법칙", "공감과 이해를 중시하는 ESFJ에게 따뜻한 책이에요."),
        ],
        "movies": [
            ("코코", "가족과 사랑의 가치를 소중히 여기는 ESFJ에게 어울려요."),
            ("굿 윌 헌팅", "사람의 성장과 관계의 힘을 보여줘요."),
        ]
    },
    "ENFJ": {
        "books": [
            ("리더의 조건", "사람을 이끄는 데 관심 많은 ENFJ에게 영감을 줘요."),
            ("말 그릇", "소통 능력을 키우고 싶은 ENFJ에게 완벽해요."),
        ],
        "movies": [
            ("히든 피겨스", "리더십과 협력을 동시에 보여주는 감동 실화예요."),
            ("드림", "타인을 돕는 따뜻한 리더십이 느껴져요."),
        ]
    },
    "ENTJ": {
        "books": [
            ("나는 나에게 집중한다", "목표지향적인 ENTJ에게 동기부여가 돼요."),
            ("제로 투 원", "새로운 시장을 개척하는 리더형 ENTJ에게 어울려요."),
        ],
        "movies": [
            ("인터스텔라", "목표를 향한 추진력과 리더십이 ENTJ의 특징과 닮았어요."),
            ("킹스 스피치", "리더로서의 성장과 용기를 보여주는 영화예요."),
        ]
    },
}

st.title("MBTI로 알아보는 책 & 영화 추천 📚🎬")
st.markdown("청소년도 즐겁게 볼 수 있게, 네 MBTI에 딱 맞는 책과 영화 추천을 준비했어! 😄")

choice = st.selectbox("당신의 MBTI를 선택하세요", ["선택 안함"] + MBTI_OPTIONS)

if choice != "선택 안함":
    data = RECOMMENDATIONS.get(choice)
    if data:
        st.markdown(f"## {choice}형을 위한 추천 🎯")

        st.markdown("### 📖 추천 도서")
        for title, reason in data["books"]:
            st.markdown(f"**{title}** — {reason}")

        st.markdown("\n### 🎬 추천 영화")
        for title, reason in data["movies"]:
            st.markdown(f"**{title}** — {reason}")

        st.info("💡 참고: MBTI는 참고용일 뿐이에요! 다양한 경험을 통해 진짜 나를 찾아보자!")
    else:
        st.error("이 MBTI에 대한 추천이 아직 준비 중이에요 😢")
else:
    st.write("👉 MBTI를 선택하면 추천 도서와 영화를 보여줄게요!")

st.caption("Made with ❤️ — ChatGPT 교육용 예시입니다.")
